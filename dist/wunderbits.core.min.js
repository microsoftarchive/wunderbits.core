!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),(n.wunderbits||(n.wunderbits={})).core=t()}}(function(){return function t(n,e,i){function r(s,a){if(!e[s]){if(!n[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=e[s]={exports:{}};n[s][0].call(c.exports,function(t){var e=n[s][1][t];return r(e?e:t)},c,c.exports,t,n,e,i)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,n){"use strict";var e=t("./WBEventEmitter").extend({mixins:[t("./mixins/WBDestroyableMixin"),t("./mixins/WBUtilsMixin"),t("./mixins/ObservableHashMixin")]});n.exports=e},{"./WBEventEmitter":5,"./mixins/ObservableHashMixin":31,"./mixins/WBDestroyableMixin":33,"./mixins/WBUtilsMixin":36}],2:[function(t,n){"use strict";var e=t("./WBSingleton").extend({mixins:[t("./mixins/WBEventsMixin"),t("./mixins/WBBindableMixin"),t("./mixins/WBDestroyableMixin"),t("./mixins/WBUtilsMixin"),t("./mixins/ObservableHashMixin")]});n.exports=e},{"./WBSingleton":8,"./mixins/ObservableHashMixin":31,"./mixins/WBBindableMixin":32,"./mixins/WBDestroyableMixin":33,"./mixins/WBEventsMixin":34,"./mixins/WBUtilsMixin":36}],3:[function(t,n){"use strict";function e(t,n){var i=this;t=t||{};var o=t.mixins||[];delete t.mixins;for(var s,a=r(i,t,n);o.length;)s=o.shift(),"function"==typeof s.applyToClass&&s.applyToClass(a);return a.extend=i.extend||e,a}function i(t){var n=this;n.uid=n.uid||a(),n.options=t||n.options,n.augmentProperties(),n.initialize.apply(n,arguments),n.initMixins.apply(n,arguments)}var r=t("./lib/inherits"),o=t("./lib/extend"),s=t("./lib/clone"),a=t("./lib/createUID"),u=t("./lib/fromSuper"),c={initialize:function(){var t=this;return t},initMixins:function(){for(var t,n=this,e=u.concat(n,"initializers");e.length;)t=e.shift(),"function"==typeof t&&t.apply(n,arguments)},augmentProperties:function(){function t(t,e){var i=typeof e;n[t]="function"===i?e.call(n):"object"===i?s(e,!0):e}var n=this,e=u.merge(n,"properties");for(var i in e)t(i,e[i])}};o(i.prototype,c),i.extend=e,n.exports=i},{"./lib/clone":12,"./lib/createUID":13,"./lib/extend":18,"./lib/fromSuper":20,"./lib/inherits":23}],4:[function(t,n){"use strict";function e(t,n,e){return function(){var i=this;if(!(i instanceof f))throw new Error(e+" invoked with wrong context");if(i._state!==a.pending)return i;i._args=s(arguments);var r=n?i._args.shift():void 0;return i._state=t,i.trigger(r),i}}var i=t("./WBClass"),r=t("./WBPromise"),o=t("./lib/assert"),s=t("./lib/toArray"),a={pending:0,resolved:2,rejected:4},u={0:["pending"],2:["resolved","resolve"],4:["rejected","reject"]},c={constructor:function(t){var n=this;n._context=t,n._state=a.pending,n._args=[],n.handlers=[]},state:function(){var t=this;return u[t._state][0]},trigger:function(t){var n=this;if(n._state!==a.pending)for(var e,i=n.handlers;i.length;)e=i.shift(),n.invoke(e,t||n._context)},invoke:function(t,n){var e=this,i=e._state,r=t.context||n||e,o=t.args;e._args.forEach(function(t){o.push(t)});var s=t.type,u="then"===s||"done"===s&&i===a.resolved||"fail"===s&&i===a.rejected;u&&t.fn.apply(r,o)},promise:function(){var t=this;return t._promise=t._promise||new r(this),t._promise}};["then","done","fail"].forEach(function(t){c[t]=function(){var n=this,e=s(arguments),i=e.shift(),r=e.shift();return o.function(i,t+" accepts only functions"),n.handlers.push({type:t,context:r,fn:i,args:e}),n.trigger(),n}}),c.always=c.then,[a.resolved,a.rejected].forEach(function(t){var n=u[t][1];c[n]=e(t,!1,n),c[n+"With"]=e(t,!0,n)});var f=i.extend(c);n.exports=f},{"./WBClass":3,"./WBPromise":7,"./lib/assert":11,"./lib/toArray":27}],5:[function(t,n){"use strict";var e=t("./WBClass").extend({mixins:[t("./mixins/WBBindableMixin"),t("./mixins/WBEventsMixin")]});n.exports=e},{"./WBClass":3,"./mixins/WBBindableMixin":32,"./mixins/WBEventsMixin":34}],6:[function(t,n){"use strict";var e=t("./lib/extend"),i=t("./lib/clone"),r=t("./lib/assert"),o=t("./WBSingleton"),s=o.extend({applyTo:function(t){var n,r=i(this.Behavior,!0);"function"==typeof r.initialize&&(n=r.initialize,delete r.initialize);var o=r.properties;return delete r.properties,e(t,r),n&&n.apply(t),o&&e(t,o),t},applyToClass:function(t){r.class(t,"applyToClass expects a class");var n=t.prototype,o=i(this.Behavior,!0),s=o.initialize;"function"==typeof s&&(!n.hasOwnProperty("initializers")&&(n.initializers=[]),n.initializers.push(s),delete o.initialize);var a=o.properties;return delete o.properties,e(n,o),!n.hasOwnProperty("properties")&&(n.properties={}),a&&e(n.properties,a),t}});s.extend=function(t,n){t||(t={}),n||(n={});var r=i(this.Behavior,!0);n.Behavior=e(r,t);var a=o.extend.call(this,n);return a.extend=s.extend,a},n.exports=s},{"./WBSingleton":8,"./lib/assert":11,"./lib/clone":12,"./lib/extend":18}],7:[function(t,n){"use strict";function e(t){return function(){var n=this.deferred;return n[t].apply(n,arguments),this}}var i=t("./WBClass"),r={constructor:function(t){this.deferred=t},promise:function(){return this},state:function(){return this.deferred.state()}};["done","fail","then"].forEach(function(t){r[t]=e(t)}),r.always=r.then,n.exports=i.extend(r)},{"./WBClass":3}],8:[function(t,n){"use strict";function e(t,n){for(var e;t.length;)e=t.shift(),"function"==typeof e.applyTo&&e.applyTo(n)}function i(t){t=t||{};var n=this||a;s.prototype=n;var u=new s,c=t.mixins||[];return t.mixins=void 0,e(c,u),r(u,t),u.extend=i,u.uid=o(),u}var r=t("./lib/extend"),o=t("./lib/createUID"),s=function(){};s.prototype={extend:i};var a=new s;n.exports=a},{"./lib/createUID":13,"./lib/extend":18}],9:[function(t,n){"use strict";var e=t("./WBClass"),i=t("./mixins/WBDestroyableMixin"),r=i.Behavior.destroy,o=e.extend({mixins:[t("./mixins/WBEventsMixin"),t("./mixins/WBStateMixin"),t("./mixins/WBBindableMixin"),i],initialize:function(t){var n=this;t&&(n.attributes=t)},sync:function(t,n,e){e&&"function"==typeof e.success&&e.success()},fetch:function(t){var n=this,e=t.success,i=this;return t.success=function(n){return i.set(n,t)?(e&&e(i,n,t),void i.trigger("sync",i,n,t)):!1},n.sync("read",n,t)},save:function(t,n,e){var i=this;return i.destroying||(i.set(t,n,e),"object"==typeof t&&(e=n),i.sync("update",i,e)),i},destroy:function(t){var n=this;n.destroying||(n.destroying=!0,r.call(n,t),n.attributes={},n.sync("delete",n,t))}});n.exports=o},{"./WBClass":3,"./mixins/WBBindableMixin":32,"./mixins/WBDestroyableMixin":33,"./mixins/WBEventsMixin":34,"./mixins/WBStateMixin":35}],10:[function(t,n){"use strict";n.exports={lib:t("./lib"),BaseEventEmitter:t("./BaseEventEmitter"),BaseSingleton:t("./BaseSingleton"),WBClass:t("./WBClass"),WBDeferred:t("./WBDeferred"),WBEventEmitter:t("./WBEventEmitter"),WBMixin:t("./WBMixin"),WBSingleton:t("./WBSingleton"),WBStateModel:t("./WBStateModel"),mixins:t("./mixins")}},{"./BaseEventEmitter":1,"./BaseSingleton":2,"./WBClass":3,"./WBDeferred":4,"./WBEventEmitter":5,"./WBMixin":6,"./WBSingleton":8,"./WBStateModel":9,"./lib":22,"./mixins":37}],11:[function(t,n){"use strict";function e(t,n){if(!t)throw new Error(n||"")}function i(t){e[t]=function(n,i){e(typeof n===t,i)}}var r=Array.isArray;e.empty=function(t,n){var i=r(t)?t:Object.keys(t);e(0===i.length,n)},e.array=function(t,n){e(r(t),n)},e.class=function(t,n){var i=t.prototype;e(i&&i.constructor===t,n)};for(var o=["undefined","boolean","number","string","function","object"];o.length;)i(o.shift());n.exports=e},{}],12:[function(t,n){"use strict";function e(t,n){if(t=t.slice(),n){for(var e,i=[];t.length;)e=t.shift(),e=e instanceof Object?o(e,n):e,i.push(e);t=i}return t}function i(t){return new Date(t)}function r(t,n){var e={};for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];e[r]=s instanceof Date?i(s):"object"==typeof s&&null!==s&&n?o(s,n):s}return e}function o(t,n){return s(t)?e(t,n):r(t,n)}var s=Array.isArray;n.exports=o},{}],13:[function(t,n){"use strict";function e(t){var n=16*Math.random()|0,e="x"===t?n:3&n|8;return e.toString(16)}function i(t){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e);return String(t?t:"")+n}n.exports=i},{}],14:[function(t,n){"use strict";function e(t,n,e){var i;return function(){var r=this,o=arguments,s=function(){i=null,e||t.apply(r,o)},a=e&&!i;clearTimeout(i),i=setTimeout(s,n),a&&t.apply(r,o)}}n.exports=e},{}],15:[function(t,n){"use strict";function e(t){var n=i(arguments);return n[0]=1,n.unshift(t),r.apply(null,n)}var i=t("./toArray"),r=t("./delay");n.exports=e},{"./delay":16,"./toArray":27}],16:[function(t,n){"use strict";function e(t,n,e){var r=i(arguments,3);return setTimeout(function(){var n=e&&e.destroyed;!n&&t.apply(e,r)},n)}var i=t("./toArray");n.exports=e},{"./toArray":27}],17:[function(t,n){"use strict";var e=t("./assert"),i=t("./toArray"),r=t("./clone"),o=/\s+/,s={trigger:"Cannot trigger event(s) without event name(s)",events:"Cannot bind/unbind without valid event name(s)",callback:"Cannot bind/unbind to an event without valid callback function"},a={properties:{_events:{},_cache:{}},on:function(t,n,i){var r=this;return e.string(t,s.events),e.function(n,s.callback),r.iterate(t,function(t){r.bind(t,n,i);var e=r._cache;e[t]&&n.apply(i||r,e[t])}),r},off:function(t,n,i){var r=this;return t&&e.string(t,s.events),t||n||i?(t=t||Object.keys(r._events),r.iterate(t,function(t){r.unbind(t,n,i)}),r):(r._events={},r)},once:function(t,n,e){var r=this,o=i(arguments);return o[1]=function(){r.off.apply(r,o),n.apply(e||r,arguments)},r.on.apply(r,o),r},publish:function(t){var n=this,r=i(arguments);return e.string(t,s.events),n.iterate(t,function(t){var e=n._cache;e[t]||(e[t]=r.slice(1),r[0]=t,n.trigger.apply(n,r))}),n},unpublish:function(t){var n=this;return e.string(t,s.events),n.iterate(t,function(t){n._cache[t]=void 0}),n},unpublishAll:function(){var t=this;return t._cache={},t},trigger:function(t){var n=this;e.string(t,s.trigger);var r=i(arguments,1);return n.iterate(t,function(t){n.triggerEvent(t,r)}),n},triggerEvent:function(t,n){for(var e=this,i=e._events||{},r=[],o=t.split(":");o.length;)r.push(o.shift()),t=r.join(":"),t in i&&e.triggerSection(t,o,n)},triggerSection:function(t,n,e){var i=this,o=i._events||{},s=o[t]||[];s.forEach(function(t){var o;n.length&&(o=r(e),o.unshift(n)),t.callback.apply(t.context||i,o||e)})},iterate:function(t,n){var i=this;for("string"==typeof t?t=t.split(o):e.array(t);t.length;)n.call(i,t.shift())},bind:function(t,n,e){var i=this,r=i._events||{},o=r[t]||(r[t]=[]);return o.push({callback:n,context:e}),i},unbind:function(t,n,e){for(var i,r=this,o=r._events,s=o[t]||[],a=[],u=-1,c=s.length;++u<c;)i=s[u],(n&&n!==i.callback||e&&e!==i.context)&&a.push(i);return o[t]=a,r}};n.exports=a},{"./assert":11,"./clone":12,"./toArray":27}],18:[function(t,n){"use strict";function e(){var t=i(arguments);o(t.length>0,"extend expect one or more objects");for(var n=t.shift();t.length;)r(n,t.shift());return n}var i=t("./toArray"),r=t("./merge"),o=t("./assert");n.exports=e},{"./assert":11,"./merge":25,"./toArray":27}],19:[function(t,n){"use strict";function e(t,n,e){for(var i=0,r=t.length;r>i;i++)if(n.call(e,t[i],i,t)===!1)return}function i(t,n,e){for(var i in t)if(t.hasOwnProperty(i)&&n.call(e,t[i],i)===!1)return}function r(t,n,r){var o=Array.isArray(t)?e:i;o(t,n,r)}n.exports=r},{}],20:[function(t,n){"use strict";function e(t,n){var i=t.constructor,s=i.prototype,a={};t.hasOwnProperty(n)?a=t[n]:s.hasOwnProperty(n)&&(a=s[n]);var u=i&&i.__super__;return u&&(a=r(e(u,n),a)),o({},a)}function i(t,n){var e=t.constructor,r=e.prototype,o=[];t.hasOwnProperty(n)?o=t[n]:r.hasOwnProperty(n)&&(o=r[n]);var s=e&&e.__super__;return s&&(o=[].concat(i(s,n),o)),[].concat(o)}var r=t("./merge"),o=t("./extend");n.exports={merge:e,concat:i}},{"./extend":18,"./merge":25}],21:[function(t,n){"use strict";function e(t){var n=[];for(var e in t)"function"==typeof t[e]&&n.push(e);return n}n.exports=e},{}],22:[function(t,n){"use strict";n.exports={assert:t("./assert"),clone:t("./clone"),createUID:t("./createUID"),debounce:t("./debounce"),defer:t("./defer"),delay:t("./delay"),events:t("./events"),extend:t("./extend"),forEach:t("./forEach"),fromSuper:t("./fromSuper"),functions:t("./functions"),inherits:t("./inherits"),isEqual:t("./isEqual"),merge:t("./merge"),size:t("./size"),toArray:t("./toArray"),when:t("./when"),where:t("./where")}},{"./assert":11,"./clone":12,"./createUID":13,"./debounce":14,"./defer":15,"./delay":16,"./events":17,"./extend":18,"./forEach":19,"./fromSuper":20,"./functions":21,"./inherits":23,"./isEqual":24,"./merge":25,"./size":26,"./toArray":27,"./when":28,"./where":29}],23:[function(t,n){"use strict";function e(t,n,e){var r;return r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return t.apply(this,arguments)},i(r,t),r.prototype=Object.create(t.prototype),i(r.prototype,n),r.prototype.constructor=r,i(r,e),r.__super__=t.prototype,r}var i=t("./extend");n.exports=e},{"./extend":18}],24:[function(t,n){"use strict";function e(t,n){return t===n}n.exports=e},{}],25:[function(t,n){"use strict";function e(t,n){for(var e=i(arguments,1);e.length;){n=e.shift();for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}var i=t("./toArray");n.exports=e},{"./toArray":27}],26:[function(t,n){"use strict";function e(t){return!Array.isArray(t)&&(t=Object.keys(t)),t.length}n.exports=e},{}],27:[function(t,n){"use strict";function e(t,n){return i.call(t,n||0)}var i=Array.prototype.slice;n.exports=e},{}],28:[function(t,n){"use strict";function e(){function t(){o.rejectWith(this)}function n(){if("rejected"!==o.state()){var t=a-s.length-1;if(u[t]=r(arguments),s.length){var e=s.shift();e.done(n)}else u.unshift(this),o.resolveWith.apply(o,u)}}var e=this,o=new i(e),s=r(arguments);1===s.length&&Array.isArray(s[0])&&(s=s[0]);var a=s.length,u=new Array(a);if(s.length){s.forEach(function(n){n.fail(t)});var c=s.shift();c.done(n)}else o.resolve();return o.promise()}var i=t("../WBDeferred"),r=t("./toArray");n.exports=e},{"../WBDeferred":4,"./toArray":27}],29:[function(t,n){"use strict";function e(t,n){var e=[];return i(t,function(t){for(var i in n){if(t[i]!==n[i])return;e.push(t)}}),e}var i=t("./forEach");n.exports=e},{"./forEach":19}],30:[function(t,n){"use strict";var e=t("../WBMixin"),i=t("../lib/fromSuper"),r=e.extend({initialize:function(){var t=this;t.controllers=[],t.implemented=[],t.implements=i.concat(t,"implements"),t.createControllerInstances(),t.bindTo(t,"destroy","destroyControllers")},createControllerInstances:function(){var t,n,e,i=this,r=i.implements;for(e=r.length;e--;)t=r[e],i.implemented.indexOf(t.toString())<0&&(n=new t(i),i.controllers.push(n),n.parent=i,i.trackImplementedSuperConstructors(n));return i.implemented},trackImplementedSuperConstructors:function(t){var n=this,e=t.__super__,i=e&&e.constructor;i&&(n.implemented.push(i.toString()),n.trackImplementedSuperConstructors(i))},destroyControllers:function(){for(var t,n=this,e=n.controllers,i=e.length;i--;)t=e[i],t.destroyed||t.destroy();delete n.controllers}});n.exports=r},{"../WBMixin":6,"../lib/fromSuper":20}],31:[function(t,n){"use strict";var e=t("../WBMixin"),i=t("../lib/fromSuper"),r=t("../lib/clone"),o=e.extend({initialize:function(){var t=this,n=i.merge(t,"observes");for(var e in n)t.bindToTarget(t.resolveTarget(e),n[e])},bindToTarget:function(t,n){var e=this;for(var i in n)e.bindHandlers(t,i,n[i])},bindHandlers:function(t,n,e){var i=this;for(e="string"==typeof e?[e]:r(e);e.length;)i.bindTo(t,n,e.shift())},resolveTarget:function(t){var n=this;if("self"===t)return n;var e=n[t];if(!e&&"string"==typeof t&&t.indexOf(".")>-1)for(t=t.split("."),e=n;t.length&&e;)e=e[t.shift()];return e}});n.exports=o},{"../WBMixin":6,"../lib/clone":12,"../lib/fromSuper":20}],32:[function(t,n){"use strict";var e=t("../WBMixin"),i=t("../lib/createUID"),r=e.extend({properties:{_bindings:{},_namedEvents:{}},callbackFactory:function(t,n){var e,i=function(){n[t].apply(n,arguments)},r=function(){t.apply(n,arguments)};return"string"==typeof t?(e=i,r=null):(e=r,i=null),e},bindTo:function(t,n,e,r){var o=this;o.checkBindingArgs.apply(o,arguments),r=r||o;var s=o.isAlreadyBound(t,n,e,r);if(s)return s;var a,u;t.constructor&&t.constructor.fn&&t.constructor.fn.on===t.on?(a=o.callbackFactory(e,r),u=[n,a]):(a="string"==typeof e?r[e]:e,u=[n,a,r]),t.on.apply(t,u);var c={uid:i(),target:t,event:n,originalCallback:e,callback:a,context:r};return o._bindings[c.uid]=c,o.addToNamedBindings(n,c),c},bindOnceTo:function(t,n,e,r){var o=this;o.checkBindingArgs.apply(o,arguments),r=r||o;var s=o.isAlreadyBound(t,n,e,r);if(s)return s;var a=function(){("string"==typeof e?r[e]:e).apply(r,arguments),o.unbindFrom(u)},u={uid:i(),target:t,event:n,originalCallback:e,callback:a,context:r};return t.on(n,a,r),o._bindings[u.uid]=u,o.addToNamedBindings(n,u),u},unbindFrom:function(t){var n=this,e=t&&t.uid;if(!t||"string"!=typeof e)throw new Error("Cannot unbind from undefined or invalid binding");var i=t.event,r=t.context,o=t.callback,s=t.target;if(i&&o&&s&&r){s.off(i,o,r);for(var a in t)"uid"!==a&&delete t[a];delete n._bindings[e];var u=n._namedEvents,c=u[i];if(c){for(var f=c&&c.slice(0),l=c.length-1;l>=0;l--)c[l].uid===e&&f.splice(l,1);u[i]=f}}},unbindFromTarget:function(t){var n=this;if(!t||"function"!=typeof t.on)throw new Error("Cannot unbind from undefined or invalid binding target");var e;for(var i in n._bindings)e=n._bindings[i],e.target===t&&n.unbindFrom(e)},unbindAll:function(){var t,n=this;for(var e in n._bindings)t=n._bindings[e],n.unbindFrom(t)},checkBindingArgs:function(t,n,e,i){if(i=i||this,!t||"function"!=typeof t.on)throw new Error("Cannot bind to undefined target or target without #on method");if(!n||"string"!=typeof n)throw new Error("Cannot bind to target event without event name");if(!e||"function"!=typeof e&&"string"!=typeof e)throw new Error("Cannot bind to target event without a function or method name as callback");if("string"==typeof e&&!i[e])throw new Error("Cannot bind to target using a method name that does not exist for the context")},isAlreadyBound:function(t,n,e,i){var r=this,o=r._namedEvents[n];if(o)for(var s=0,a=o.length;a>s;s++){var u=o[s]||{},c=u.target;if(!c)return!1;var f=t.uid?t.uid===c.uid:!1;if(u.originalCallback===e&&u.context===i&&f)return u}return!1},addToNamedBindings:function(t,n){var e=this;e._namedEvents[t]||(e._namedEvents[t]=[]),e._namedEvents[t].push(n)}});n.exports=r},{"../WBMixin":6,"../lib/createUID":13}],33:[function(t,n){"use strict";function e(){}function i(t){var n=this;"string"==typeof t&&(t=n[t]),"function"==typeof t&&t.call(n)}var r=t("../lib/forEach"),o=t("../WBMixin"),s=["unbind","unbindAll","onDestroy"],a=o.extend({destroy:function(){var t=this;r(s,i,t),t.trigger("destroy"),t.destroyObject(t),t.destroyed=!0},destroyObject:function(t){var n=this;for(var e in t)n.destroyKey(e,t)},destroyKey:function(t,n){n.hasOwnProperty(t)&&"uid"!==t&&"cid"!==t&&(n[t]="function"==typeof n[t]?e:void 0)}});n.exports=a},{"../WBMixin":6,"../lib/forEach":19}],34:[function(t,n){"use strict";var e=t("../WBMixin"),i=t("../lib/events"),r=e.extend(i);n.exports=r},{"../WBMixin":6,"../lib/events":17}],35:[function(t,n){"use strict";var e=t("../lib/clone"),i=t("../lib/merge"),r=t("../lib/extend"),o=t("../lib/isEqual"),s=t("../WBMixin"),a=s.extend({attributes:{},options:{},initialize:function(t,n){var e=this;e.attributes=r({},e.defaults,t),e.options=n||{},e.changed={}},get:function(t){return console.warn("getters are deprecated"),this.attributes[t]},set:function(t,n,e){var r=this;if(null===t)return r;var o,s;if("object"==typeof t?(o=t,e=n):(o={},o[t]=n),e||(e={}),e.silent)i(r.attributes,s);else{var a=r.changes(o,e);r._trigger(o,a,e)}return r},unset:function(t,n){return this.set(t,void 0,r({},n,{unset:!0}))},clear:function(t){var n=this;return n.set(n.defaults,t)},changes:function(t,n){var i,r,s=this,a=[],u=e(s.attributes,!0),c=s.attributes;s.changed={};for(i in t)r=t[i],o(c[i],r)||a.push(i),o(u[i],r)?delete s.changed[i]:s.changed[i]=r,c[i]=n.unset?void 0:r;return a},_trigger:function(t,n,e){for(var i,r=this,o=r.attributes;n&&n.length&&r.trigger;)i=n.shift(),r.trigger("change:"+i,r,o[i],e)}});n.exports=a},{"../WBMixin":6,"../lib/clone":12,"../lib/extend":18,"../lib/isEqual":24,"../lib/merge":25}],36:[function(t,n){"use strict";var e=t("../WBMixin"),i=t("../WBDeferred"),r=t("../lib/when"),o=t("../lib/toArray"),s=t("../lib/forEach"),a=t("../lib/delay"),u=t("../lib/defer"),c=t("../lib/functions"),f=e.extend({deferred:function(){var t=this;return new i(t)},when:function(){var t=this;return r.apply(t,arguments)},defer:function(t){var n=this,e=o(arguments);return e[1]=e[1]||this,"string"==typeof t&&(e[0]=n[t]),u.apply(null,e)},delay:function(t){var n=this,e=o(arguments);return e[2]=e[2]||n,"string"==typeof t&&(e[0]=n[t]),a.apply(null,e)},forEach:function(t,n,e){var i=this;e=e||i,"string"==typeof n&&(n=i[n]),s(t,n,e)},functions:function(t){return c(t||this)}});n.exports=f},{"../WBDeferred":4,"../WBMixin":6,"../lib/defer":15,"../lib/delay":16,"../lib/forEach":19,"../lib/functions":21,"../lib/toArray":27,"../lib/when":28}],37:[function(t,n){"use strict";n.exports={ControllerMixin:t("./ControllerMixin"),ObservableHashMixin:t("./ObservableHashMixin"),WBBindableMixin:t("./WBBindableMixin"),WBDestroyableMixin:t("./WBDestroyableMixin"),WBEventsMixin:t("./WBEventsMixin"),WBStateMixin:t("./WBStateMixin"),WBUtilsMixin:t("./WBUtilsMixin")}},{"./ControllerMixin":30,"./ObservableHashMixin":31,"./WBBindableMixin":32,"./WBDestroyableMixin":33,"./WBEventsMixin":34,"./WBStateMixin":35,"./WBUtilsMixin":36}]},{},[10])(10)});